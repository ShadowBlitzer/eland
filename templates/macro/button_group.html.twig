{%- macro view(route, all_params, view_ary, current_view) -%}
    {%- import _self as bg -%}
    <span class="pull-right">
    <span class="btn-group" role="group">
    {%-for view, title in view_ary -%}
        <a href="{{- path(route, all_params|merge({'view': view})) -}}" title="{{- title|trans -}}" class="btn btn-outline-secondary{%- if current_view == view %} active{%- endif -%}">
        {{- bg.fa_view(view) -}}
        </a>
    {%- endfor -%}
    </span>
    </span>
{%- endmacro view -%}

{%- macro item_nav(entity, prev, next, acc_sch) -%}
    {%- import _self as bg -%}
    <span class="pull-right">
    <span class="btn-group" role="group">
    <a href="{{- path(entity~'_index', acc_sch|view(entity)) -}}" title="{{- 'nav.overview'|trans -}}" class="btn btn-default">
    {{- bg.fa_view((acc_sch|view(entity))['view']|default('list')) -}}
    </a>
    {%- if prev -%}
        <a href="{{- path(entity~'_show', acc_sch|merge({'id': prev})) -}}" title="{{- 'nav.previous'|trans -}}" class="btn btn-default">
        <i class="fa fa-chevron-down"></i>
        </a>
    {%- else -%}
        <button class="btn btn-default" disabled="disabled">
        <i class="fa fa-chevron-down"></i>
        </button>
    {%- endif -%}
    {%- if next -%}
        <a href="{{- path(entity~'_show', acc_sch|merge({'id': next})) -}}" title="{{- 'nav.next'|trans -}}" class="btn btn-default">
        <i class="fa fa-chevron-up"></i>
        </a>
    {%- else -%}
        <button class="btn btn-default" disabled="disabled">
        <i class="fa fa-chevron-up"></i>
        </button>
    {%- endif -%}
    </span>
    </span>
{%- endmacro item_nav -%}

{%- macro fa_view(view) -%}
    {%- set fa = {'list': 'align-justify', 'map': 'map-marker', 'extended': 'th-list', 'tiles': 'th'} -%}
    <i class="fa fa-{{- fa[view] -}}"></i>
{%- endmacro fa_view -%}