{% macro start() -%}
    <div class="panel panel-default printview">
    <div class="table-responsive">
    <table class="table table-striped 
    table-hover table-bordered footable" 
    data-sort="false">
{%- endmacro start %}

{% macro head(cols, route, route_params, default_sort) -%}
    {%- set sort = route_params.sort ?? default_sort|default(null) -%}
    <thead>
    <tr>
    {%- for column, data in cols -%}
    <th{%- if data.hide is defined %} data-hide="{{- data.hide|join(',') -}}"{%- endif -%}>
    {%- if data.sortable is defined -%}
    {%- set asc = sort == column ? (route_params.asc ? 0 : 1) : (data.desc is defined ? 0 : 1) -%} 
    <a href="{{- path(route, route_params|merge({'sort': column, 'asc': asc})) -}}">
    {%- endif -%}
    {{- data['lbl']|trans({'lbl_var': data.lbl_var|default('')}) -}}
    {%- if data.sortable is defined -%}
    {%- if column == sort -%} <i class="fa fa-sort-{%- if asc -%}asc{%- else -%}desc{%- endif -%}
    {%- endif -%}
    </a>
    {%- endif -%}
    </th>
    {%- endfor -%}    
    </tr>
    </thead>
{%- endmacro head %}   

{% macro body(rows, cols) -%}
    <tbody>
    {%- for row in rows -%}
    <tr{%- if row.class is defined -%} class="{{- row.class -}}"{%- endif -%}>
    {%- for c, cd in cols -%}
    <td>
    {%- if c.route is defined -%}
    <a href="{{ path(cd.route, row[c].route_params|merge(c.route_params|default({}))) }}">
    {{- row[c] ?? '' -}}
    </a>
    {%- else -%}
    {{- row[c] ?? '' -}}
    {%- endif -%}
    </td>
    {%- endfor -%}
    </tr>
    {%- endfor -%}
    </tbody>
{%- endmacro body %}

{% macro end() -%}  
    </table>
    </div>
    </div>
{%- endmacro end %}
