{% macro messages(messages, group, new_message_url, messages_url, s3_img, validate_param) %}

{{ 'mail.overview.offers_and_wants'|trans|underline }}

{% if messages %}
{% set saldofreqdays = config('saldofreqdays', schema) %}
{{ 'mail.overview.offer_and_wants_explain'|trans }}

{% for msg in messages %}

{% if msg.offer %}{{ 'offer'|trans }}{% else %}{{ 'want'|trans }}{% endif %}: {{ msg.content }} ({% if msg.images|length %}{{ msg.images|length }}{% else %}geen{% endif %} {% if msg.images|length == 1 %}afbeelding{% else %} afbeeldingen {% endif %})
{{ msg.url }}{{ validate_param }}
	Ingegeven door: {{ msg.user}}
{% endfor %}
{% else %}
{{ 'mail.overview.offers_and_wants_none'|trans }}
{% endif %}

Geef zelf je eigen vraag of aanbod in: {{ new_message_url }}{{ validate_param }}

{% endmacro messages %}

{% macro interlets(interlets, url_login, validate_param) %}

{% if interlets %}

{{ 'mail.overview.interlets_offers_and_wants'|trans|underline }}

Log in ({{ url_login }}{{ validate_param }}) en ga via 'Groep' in de navigatiebalk naar de betreffende interLETS groep voor meer informatie.

{% for grp in interlets %}

** GROEP: {{ grp.group }} **

{% for msg in grp.messages %}

    {% if msg.offer %}Aanbod{% else %}Vraag{% endif %}: {{ msg.content }}
	    Ingegeven door: {{ msg.user}} [{{ grp.group }}]
{% endfor %}
{% endfor %}
{% endif %}

{% endmacro interlets %}

{% macro forum(forum, forum_en, show_forum, forum_url, validate_param) %}

{% if forum_en and show_forum != 'none' %}

Forum
-----

{% for f in forum %}
* {{ f.subject }} {{ f.url }}{{ validate_param }}
{% else %}
Er zijn geen nieuwe forumberichten.
{% endfor %}

{% endif %}

{% endmacro forum %}

{% macro news(news, show_news, news_url, validate_param) %}

{% if show_news != 'none' %}

Nieuws
------

Bekijk online: {{ news_url }}{{ validate_param }}

{% for n in news %}
*** {{ n.headline }} ***

{{ n.newsitem }}

{% if n.location %}Plaats: {{ n.location }}{% endif %}

{% if n.itemdate %}Datum: {{ n.itemdate_formatted }}{% endif %}

Ingegeven door: {{ n.user }}

{% else %}

{% if show_news == 'recent' %}
Momenteel zijn er geen nieuwe nieuwsberichten.
{% else %}
Momenteel zijn er geen nieuwsberichten.
{% endif %}

{% endfor %}

{% endif %}

{% endmacro news %}

{% macro docs(docs, show_docs, validate_param) %}

{% if show_docs != 'none' %}

{{ 'mail.overview.docs'|trans|underline }}

{% for d in docs %}
* {{ d.name }} {{ d.url }}
{% else %}
{{ 'mail.overview.docs_none'|trans }}
{% endfor %}

{% endif %}

{% endmacro docs %}

{% macro new_users(new_users, show_new_users, validate_param) %}

{% if show_new_users != 'none' %}

{{ 'mail.overview.new_users'|trans|underline }}

{% for u in new_users %}
* {{ u.text }}{% if u.postcode %} | postcode: {{ u.postcode }}{% endif %}

{% else %}

{% if show_new_users == 'recent' %}
{{ 'mail.overview.new_users_no_recent'|trans }}
{% else %}
{{ 'mail.overview.new_users_none'|trans }}
{% endif %}

{% endfor %}

{% endif %}

{% endmacro new_users %}

{% macro leaving_users(leaving_users, show_leaving_users, validate_param) %}

{% if show_leaving_users != 'none' %}

{{ 'mail.overview.leaving_users'|trans|underline }}

{% for u in leaving_users %}
* {{ u.text }}{% if u.postcode %} | postcode: {{ u.postcode }}{% endif %}

{% else %}

{% if show_leaving_users == 'recent' %}
{{ 'mail.overview.leaving_users_no_recent'|trans }}
{% else %}
{{ 'mail.overview.leaving_users_none'|trans }}
{% endif %}

{% endfor %}

{% endif %}

{% endmacro leaving_users %}

{% macro transactions(transactions, show_transactions, group, new_transaction_url, transactions_url, validate_param) %}

{% if show_transactions != 'none' %}

{{ 'mail.overview.transactions'|trans|underline }}

{% if transactions %}
{% set saldofreqdays = config('saldofreqdays', schema) %}
{{ 'mail.overview.transactions_explain'|trans }}
{% endif %}

{% for tr in transactions %}
* {{ tr.amount }} {{ group.currency }} van {% if tr.real_from %}{{ tr.real_from }} [ {{ tr.from_name }} ]{% else %}{{ tr.from_user }}{% endif %}
 naar {% if tr.real_to %}{{ tr.real_to }} [ {{ tr.to_name }} ]{% else %} {{ tr.to_user }}{% endif %}

	{{ tr.description }}

{% else %}
{{ 'mail.overview.transactions_none'|trans }}
{% endfor %}

Nieuwe transactie ingeven: {{ new_transaction_url }}{{ validate_param }}

{% endif %}

{% endmacro transactions %}

{% macro unsubscribe(account_edit_url, validate_param) %}

Je ontvangt deze mail omdat de optie 'Periodieke mail met recent vraag en aanbod' aangevinkt staat in je instellingen.

{{ account_edit_url }}{{ validate_param }}

{% endmacro unsubscribe %}


