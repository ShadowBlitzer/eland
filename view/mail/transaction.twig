{%- extends 'mail/base.twig' -%}
{%- trans_default_domain 'mail' -%}

{% block subject_line -%}
    {{- 'transaction.subject'|trans({
        '%from_account%': account(from_user_id, schema),
        '%to_account%': account(to_user_id, schema)
    }) -}}
{%- endblock subject_line -%}

{% block html_content %}

<h3>
    {{- 'transaction.title'|trans -}}
</h3>

<p>
    {{- 'label.from'|trans -}}
    <br />
    <strong>
        {{- account(from_user_id, schema) -}}
    </strong>
</p>

<p>
    {{- 'label.to'|trans -}}
    <br />
    <strong>
        {{- account(to_user_id, schema) -}}
    </strong>
</p>

<p>
    {{- 'label.amount'|trans -}}
    <br />
    <strong>
        {{- amount }} {{ config('currency', schema) }}
    </strong>
</p>

<p>
    {{- 'label.description'|trans -}}
    <br />
    <strong>
        {{- description -}}
    </strong>
</p>

<p>
<a href="{{- transaction_url -}}">
{{- 'label.link'|trans -}}
</a>
</p>

{%- endblock html_content -%}

{% block text_content %}

{{ 'transaction.title'|trans|underline }}

{{ 'label.from'|trans }}
{{ account(from_user_id, schema) }}

{{ 'label.to'|trans }}
{{ account(to_user_id, schema) }}

{{ 'label.amount'|trans }}
{{ amount }} {{ config('currency', schema) }}

{{ 'label.description'|trans }}
{{ description }}

{{ 'label.link'|trans }}: {{ transaction_url }}

{% endblock text_content %}

{% block html_account_info -%}
{%- include 'mail/include/account_info.html.twig' -%}
{% endblock -%}

{% block text_account_info %}
{% include 'mail/include/account_info.text.twig' %}
{% endblock %}

{%- block html_support -%}
{%- include 'mail/include/support.html.twig' -%}
{%- endblock -%}

{% block text_support %}
{% include 'mail/include/support.text.twig' %}
{% endblock %}
