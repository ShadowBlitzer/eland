{%- extends 'mail/base.twig' -%}
{%- trans_default_domain 'mail' -%}

{% block subject_line -%}
    {{- 'transaction.subject'|trans({
        '%from_account%': account(from_user_id, schema),
        '%to_account%': account(to_user_id, schema)
    }) -}}
{%- endblock subject_line -%}

{% block html_content %}

<h3>
    {%- block html_title -%}
    {{- 'transaction.title'|trans -}}
    {%- endblock -%}
</h3>

{%- block html_content_explain -%}{%- endblock -%}

<p>
    {{- 'label.from'|trans -}}
    <br />
    <strong>
        {%- block html_from -%}
        {{- account(from_user_id, schema) -}}
        {%- endblock -%}
    </strong>
</p>

<p>
    {{- 'label.to'|trans -}}
    <br />
    <strong>
        {%- block html_to -%}
        {{- account(to_user_id, schema) -}}
        {%- endblock -%}
    </strong>
</p>

<p>
    {{- 'label.amount'|trans -}}
    <br />
    <strong>
        {%- block html_amount -%}
        {{- transaction.amount -}}&nbsp;
        {{- config('currency', schema) -}}
        {%- endblock html_amount -%}
    </strong>
</p>

<p>
    {{- 'label.description'|trans -}}
    <br />
    <strong>
        {{- transaction.description -}}
    </strong>
</p>

<p>
<a href="{{- mail_url('transactions',
    {'id': transaction.id}, schema) -}}">
{{- 'label.link'|trans -}}
</a>
</p>

{%- block html_trans_id -%}{%- endblock -%}

{%- endblock html_content -%}

{% block text_content %}

{% block text_title %}{{ 'transaction.title'|trans|underline }}{% endblock %}
{% block text_content_explain %}{% endblock %}

{{ 'label.from'|trans }}
{% block text_from %}
{{ account(from_user_id, schema) }}
{% endblock %}

{{ 'label.to'|trans }}
{% block text_to %}
{{ account(to_user_id, schema) }}
{% endblock %}

{{ 'label.amount'|trans }}
{% block text_amount %}
{{ transaction.amount }} {{ config('currency', schema) }}
{% endblock %}

{{ 'label.description'|trans }}
{{ transaction.description }}

{{ 'label.link'|trans }}: {{ mail_url('transactions',
    {'id': transaction.id}, schema) }}

{% block text_trans_id %}{% endblock %}

{% endblock text_content %}

{% block html_account_info -%}
{%- include 'mail/include/account_info.html.twig' -%}
{% endblock -%}

{% block text_account_info %}
{% include 'mail/include/account_info.text.twig' %}
{% endblock %}

{%- block html_support -%}
{%- include 'mail/include/support.html.twig' -%}
{%- endblock -%}

{% block text_support %}
{% include 'mail/include/support.text.twig' %}
{% endblock %}
